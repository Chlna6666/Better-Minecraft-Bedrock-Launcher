/* src/components/Slider/Slider.css */

:root {
    --slider-height: 6px;          /* 轨道高度 */
    --slider-thumb-size: 18px;     /* 手柄大小 */
    --slider-bg: rgba(0, 0, 0, 0.1);       /* 轨道背景色 */
    --slider-fill: var(--accent-color, #7c4dff); /* 激活颜色 (紫色) */
    --slider-thumb-color: #ffffff;         /* 手柄颜色 */
    --slider-thumb-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* 手柄阴影 */
}

[data-theme='dark'] {
    --slider-bg: rgba(255, 255, 255, 0.15);
}

.ui-slider-container {
    position: relative;
    width: 100%;
    height: 30px; /* 容器高度，方便点击 */
    display: flex;
    align-items: center;
    user-select: none;
}

.ui-slider-container.disabled {
    opacity: 0.5;
    pointer-events: none;
}

/* 隐藏原生 Input 样式 */
.ui-slider-input {
    -webkit-appearance: none;
    width: 100%;
    height: 100%;
    background: transparent;
    position: absolute;
    z-index: 2; /* 放在轨道之上 */
    margin: 0;
    cursor: pointer;
    opacity: 0; /* 完全透明，只用它来接收交互 */
}

/* --- 自定义轨道 (Track) --- */
.ui-slider-track {
    position: absolute;
    left: 0;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    height: var(--slider-height);
    background-color: var(--slider-bg);
    border-radius: 999px;
    z-index: 1;
    pointer-events: none; /* 让点击穿透到 input */
    overflow: hidden; /* 关键：裁剪填充条 */
}

/* 进度填充 */
.ui-slider-fill {
    height: 100%;
    width: var(--slider-percent, 0%);
    background-color: var(--slider-fill);
    border-radius: 999px;
    transition: width 0.05s linear;
}

/* --- 自定义滑块手柄 (Thumb) 的视觉模拟 --- */
/* 由于我们将 input 透明化了，这里使用一个伪元素或者利用 input 的 thumb 样式。
   但为了让 thumb 能够超出 overflow:hidden 的轨道，
   我们必须给 input 设置样式，并让 input 不被 overflow 裁剪。
*/

/* 重新显示 Input 的 Thumb，因为我们把 Input 设为 opacity: 0 了吗？
   不对，上面的 opacity: 0 会导致 thumb 也看不见。
   我们需要把 input 的背景透明，而不是整个 input 透明。
*/
.ui-slider-input {
    opacity: 1; /* 改回 1 */
}

/* Webkit Thumb */
.ui-slider-input::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: var(--slider-thumb-size);
    height: var(--slider-thumb-size);
    background-color: var(--slider-thumb-color);
    border-radius: 50%;
    box-shadow: var(--slider-thumb-shadow);
    cursor: grab;
    transition: transform 0.1s ease;

    /* 垂直居中修正 */
    margin-top: calc((var(--slider-height) / 2) - (var(--slider-thumb-size) / 2));
    position: relative;
    z-index: 3;
}

.ui-slider-input:active::-webkit-slider-thumb {
    transform: scale(1.1);
    cursor: grabbing;
}

/* 隐藏原生轨道 */
.ui-slider-input::-webkit-slider-runnable-track {
    background: transparent;
    height: var(--slider-height);
}